═══════════════════════════════════════════════════════════════
  동화책 만들기 모듈 - 기능 설명서
═══════════════════════════════════════════════════════════════

프로그램 명칭: Story Maker - 동화책 만들기 모듈
개발 언어: TypeScript, React
개발 완료일: 2026-01-07
버전: 1.0.0

───────────────────────────────────────────────────────────────
1. 모듈 개요
───────────────────────────────────────────────────────────────

본 모듈은 노인 사용자가 손쉽게 AI 동화책을 만들 수 있는 
통합 저작 도구입니다. 주제만 입력하면 AI가 자동으로 스토리와
삽화를 생성하며, 최종적으로 인쇄 가능한 PDF 형식으로 
내보낼 수 있습니다.

───────────────────────────────────────────────────────────────
2. 주요 기능
───────────────────────────────────────────────────────────────

[2.1] AI 동화 스토리 생성 (핵심 기능 ⭐⭐⭐)
  ✓ 자동 초안 생성
    - 주제 입력 (1-2문장)
    - AI가 3페이지 초안 자동 작성
    - 기승전결 구조 자동 구성
    - 생성 시간: 약 30초
  
  ✓ 스타일 선택
    - 동화 스타일 (어린이용)
    - 일러스트 스타일 (교육용)
    - 수채화 스타일 (감성적)
    - 사실적 스타일 (현실감)
  
  ✓ 페이지 확장
    - 초안 3페이지에서 시작
    - 최대 10페이지까지 확장 가능
    - 각 페이지 개별 편집

[2.2] 동화책 편집기
  ✓ 페이지 관리
    - 페이지 추가/삭제
    - 페이지 순서 변경
    - 페이지 복사/붙여넣기
  
  ✓ 텍스트 편집
    - 각 페이지별 텍스트 수정
    - 글꼴 크기 조정
    - 문단 정렬
    - 자동 줄바꿈
  
  ✓ AI 이어쓰기
    - 현재 스토리 맥락 파악
    - 자연스러운 다음 페이지 생성
    - 일관된 스토리 전개

[2.3] 삽화 생성 (핵심 기능 ⭐⭐⭐)
  ✓ 페이지별 AI 이미지
    - 각 페이지 내용 기반 이미지 생성
    - DALL-E 3 고품질 이미지
    - 스타일 일관성 유지
    - 생성 시간: 페이지당 20-30초
  
  ✓ 이미지 편집
    - 이미지 재생성
    - 프롬프트 수정
    - 스타일 변경
    - 위치 조정
  
  ✓ 이미지 업로드
    - 직접 그린 그림 업로드
    - 사진 삽입 가능
    - 최대 10MB 지원

[2.4] PDF 내보내기 (핵심 기능 ⭐⭐⭐)
  ✓ 고품질 PDF 생성
    - jsPDF + html2canvas 엔진
    - 벡터 텍스트 + 래스터 이미지
    - 인쇄 품질 (300dpi 권장)
  
  ✓ 레이아웃 옵션
    - 세로 방향 (Portrait)
      → 그림 위쪽, 글 아래쪽 배치
    - 가로 방향 (Landscape)
      → 그림 왼쪽, 글 오른쪽 배치
  
  ✓ 한글 폰트 지원 (중요 ⭐)
    - Noto Sans KR (기본)
    - 한글 깨짐 방지
    - Base64 폰트 임베딩
    - 크로스 플랫폼 호환
  
  ✓ 메타데이터
    - 제목 설정
    - 저자 이름
    - 생성 날짜 자동 기록
    - PDF 속성 포함

[2.5] 표지 생성 (선택사항)
  ✓ AI 표지 이미지
    - 전체 스토리 요약 기반
    - 매력적인 표지 디자인
    - 제목 + 저자명 오버레이
  
  ✓ 수동 표지
    - 사용자 직접 업로드
    - 템플릿 제공
    - 커스텀 디자인

[2.6] 내 작품 관리
  ✓ 동화책 저장
    - IndexedDB 로컬 저장
    - 페이지 데이터 전체 보존
    - 이미지 Base64 저장
  
  ✓ 작품 목록
    - 썸네일 미리보기
    - 제목 + 날짜
    - 페이지 수 표시
  
  ✓ 작품 편집
    - 이어서 편집
    - PDF 재생성
    - 삭제
    - 공유

───────────────────────────────────────────────────────────────
3. 기술적 특징
───────────────────────────────────────────────────────────────

[3.1] AI 스토리 생성
  - Google Gemini API
  - 맥락 기반 서사 구조
  - 한국어 최적화
  - 일관된 캐릭터/배경 유지

[3.2] AI 이미지 생성
  - OpenAI DALL-E 3
  - 1024x1024 고해상도
  - 스타일 프리셋 지원
  - 멀티 모델 폴백

[3.3] PDF 생성 엔진
  - jsPDF 라이브러리
  - html2canvas (이미지 변환)
  - Noto Sans KR 폰트 임베딩
  - 레이아웃 자동 최적화

[3.4] 데이터 저장
  - IndexedDB (로컬)
  - Base64 이미지 인코딩
  - JSON 직렬화
  - 버전 관리

[3.5] 성능 최적화
  - 페이지 단위 로딩
  - 이미지 지연 로딩
  - 캐싱 시스템
  - 비동기 처리

───────────────────────────────────────────────────────────────
4. 사용자 흐름
───────────────────────────────────────────────────────────────

시작 화면
  ↓
홈 화면 (동화책 만들기 선택)
  ↓
동화책 시작 화면
  ↓
주제 입력
  ├─ 키보드 직접 입력
  ├─ 음성 입력
  └─ 손글씨 인식
  ↓
스타일 선택 (선택사항)
  ↓
AI 초안 생성 (30초)
  ↓
3페이지 초안 완성
  ↓
편집기 진입
  ├─ 텍스트 수정
  ├─ 페이지 추가/삭제
  ├─ AI 이어쓰기
  └─ 페이지 순서 변경
  ↓
삽화 생성
  ├─ 각 페이지별 "삽화 만들기" 클릭
  ├─ AI 이미지 생성 (20-30초)
  └─ 또는 직접 이미지 업로드
  ↓
전체 미리보기
  ↓
PDF 내보내기 설정
  ├─ 제목 입력
  ├─ 저자 입력
  ├─ 방향 선택 (세로/가로)
  └─ 표지 생성 옵션
  ↓
PDF 생성 중 (10-30초)
  ↓
PDF 다운로드
  ↓
내 작품에 저장
  └─ 작품 목록 → 편집/삭제/공유

───────────────────────────────────────────────────────────────
5. 화면 구성 (캡처된 파일 설명)
───────────────────────────────────────────────────────────────

01_홈화면.png
  - 3가지 메인 옵션
  - 동화책 만들기 (선택됨)

02_동화책시작화면.png
  - "어떤 이야기를 만들까요?" 제목
  - 주제 입력창 (큰 텍스트 박스)
  - "만들기" 버튼

03_주제입력화면.png
  - 입력창에 커서 표시
  - 플레이스홀더: "예: 우주를 여행하는 용감한 토끼"

04_주제입력완료.png
  - 입력된 주제 표시
  - 예: "우주를 여행하는 용감한 토끼 이야기"

05_스타일선택.png
  - 동화 스타일
  - 일러스트 스타일
  - 수채화 스타일
  - 각 스타일 샘플 이미지

06_AI초안생성중.png ⭐
  - 로딩 애니메이션
  - "AI가 동화를 만들고 있어요..."
  - 진행 바 (0% → 100%)
  - 예상 시간: 약 30초

07_초안완성_3페이지.png ⭐⭐⭐
  - 3개 페이지 카드 표시
  - 각 페이지 텍스트 미리보기
  - "편집하기" 버튼 강조

08_동화책편집기.png
  - 왼쪽: 페이지 목록 (1, 2, 3)
  - 오른쪽: 선택된 페이지 내용
  - 상단: 툴바 (추가, 삭제, 순서 변경)

09_텍스트수정.png
  - 텍스트 입력창 활성화
  - 수정된 내용 표시
  - 자동 저장 아이콘

10_삽화생성버튼.png
  - 각 페이지별 "삽화 만들기" 버튼
  - 아이콘: 🎨 또는 이미지 생성 아이콘

11_삽화생성중.png ⭐
  - 로딩 애니메이션
  - "AI가 삽화를 만들고 있어요..."
  - 페이지별 진행 상태

12_생성된삽화.png ⭐⭐⭐
  - 페이지에 삽화 추가된 모습
  - 이미지 + 텍스트 조합
  - 레이아웃 자동 배치

13_전체미리보기.png
  - 모든 페이지 슬라이드쇼
  - 좌우 이동 버튼
  - 페이지 번호 표시

14_PDF설정모달.png ⭐
  - 제목 입력창
  - 저자 입력창
  - 방향 선택: 
    ○ 세로 (Portrait)
    ○ 가로 (Landscape)
  - 커버 이미지 생성 체크박스
  - "PDF 만들기" 버튼

15_PDF생성중.png
  - 진행 바
  - "PDF를 만들고 있어요..."
  - 페이지별 렌더링 상태

16_PDF다운로드.png ⭐⭐⭐
  - "PDF 다운로드" 버튼 (큰 버튼)
  - 파일 크기 표시
  - 저장 위치 안내

───────────────────────────────────────────────────────────────
6. PDF 레이아웃 상세
───────────────────────────────────────────────────────────────

[6.1] 세로 방향 (Portrait) - A4 사이즈
  ┌────────────────────────┐
  │                        │
  │       [이미지]         │
  │                        │
  │                        │
  ├────────────────────────┤
  │                        │
  │    [텍스트 내용]       │
  │                        │
  └────────────────────────┘
  
  - 용지: 210mm x 297mm
  - 이미지: 상단 60%
  - 텍스트: 하단 40%
  - 여백: 상하좌우 20mm

[6.2] 가로 방향 (Landscape) - A4 사이즈
  ┌───────────┬────────────────────┐
  │           │                    │
  │           │                    │
  │  [이미지] │   [텍스트 내용]    │
  │           │                    │
  │           │                    │
  └───────────┴────────────────────┘
  
  - 용지: 297mm x 210mm
  - 이미지: 좌측 50%
  - 텍스트: 우측 50%
  - 여백: 상하좌우 20mm

[6.3] 한글 폰트 처리
  - 폰트: Noto Sans KR (Regular, Bold)
  - 임베딩: Base64 서브셋
  - 크기: 본문 14pt, 제목 24pt
  - 줄간격: 1.5배
  - 인코딩: UTF-8

[6.4] 이미지 처리
  - 형식: JPEG (품질 85%)
  - 해상도: 1024x1024 원본 유지
  - 압축: 자동 최적화
  - DPI: 72dpi (화면용), 300dpi (인쇄용 권장)

───────────────────────────────────────────────────────────────
7. 샘플 PDF 파일 (필수 제출물 ⭐⭐⭐)
───────────────────────────────────────────────────────────────

본 저작권 등록에는 다음 2개의 샘플 PDF가 포함되어야 합니다:

[7.1] 샘플_동화책_세로.pdf
  - 방향: Portrait (세로)
  - 페이지 수: 3-5페이지
  - 레이아웃: 그림 위, 글 아래
  - 내용 예:
    Page 1: 표지 (제목 + 저자 + 이미지)
    Page 2: 첫 장면 (이미지 + 텍스트)
    Page 3: 중간 장면 (이미지 + 텍스트)
    Page 4: 마지막 장면 (이미지 + 텍스트)
    Page 5: 뒷표지 (선택사항)

[7.2] 샘플_동화책_가로.pdf
  - 방향: Landscape (가로)
  - 페이지 수: 3-5페이지
  - 레이아웃: 그림 왼쪽, 글 오른쪽
  - 내용: 동일한 스토리, 다른 레이아웃

⚠️ 중요:
  - 실제로 앱에서 생성된 PDF여야 함
  - 한글 텍스트 포함 필수
  - 이미지 + 텍스트 조합 명확히 표시
  - 파일 크기: 5-20MB 권장

───────────────────────────────────────────────────────────────
8. 접근성 및 사용자 경험
───────────────────────────────────────────────────────────────

[8.1] 노인 친화적 설계
  ✓ 단계별 가이드 제공
  ✓ 큰 버튼과 명확한 라벨
  ✓ 진행 상태 시각화
  ✓ 에러 방지 확인 다이얼로그

[8.2] 자동화
  ✓ AI 자동 초안 생성
  ✓ 스타일 일관성 유지
  ✓ 자동 레이아웃 최적화
  ✓ 한글 폰트 자동 임베딩

[8.3] 유연성
  ✓ 페이지 자유 추가/삭제
  ✓ 텍스트 완전 수정 가능
  ✓ 이미지 재생성 무제한
  ✓ 다양한 출력 형식

───────────────────────────────────────────────────────────────
9. 저작권 정보
───────────────────────────────────────────────────────────────

프로그램 명칭: Story Maker - 동화책 만들기 모듈
개발자: sunsudun25-cloud
개발 기간: 2024-12 ~ 2026-01
라이선스: MIT License
저작권자: HI-DI Edu

주요 기술 스택:
  - React 19.2.0
  - TypeScript 5.9.3
  - Google Gemini API (스토리 생성)
  - OpenAI DALL-E 3 (이미지 생성)
  - jsPDF 2.5.1 (PDF 생성)
  - html2canvas 1.4.1 (이미지 렌더링)
  - Cloudflare Pages/Workers

오픈소스 라이브러리:
  - jsPDF (MIT License)
  - html2canvas (MIT License)
  - Noto Sans KR (OFL License)
  - IndexedDB API (브라우저 내장)
  - TailwindCSS

───────────────────────────────────────────────────────────────
10. 참고 자료
───────────────────────────────────────────────────────────────

프로덕션 URL: https://story-maker-4l6.pages.dev
GitHub 저장소: https://github.com/sunsudun25-cloud/hidi-story-maker
기술 문서: README.md, START_HERE.md

PDF 샘플 파일 위치:
  - 샘플_동화책_세로.pdf
  - 샘플_동화책_가로.pdf

───────────────────────────────────────────────────────────────

작성일: 2026-01-07
작성자: Story Maker 개발팀
